(function(factory){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){"use strict";$.preload=function(sources){var queue=$.Deferred(),data=$.map(sources,function(source){var part=$.Deferred(),image=$("<img />");part.done(queue.notify);image.on("error load onreadystatechange",part.resolve).attr("src",source);return part.promise()});$.when.apply(this,data).done(queue.resolve);return queue.promise()};$.fn.preload=function(){var collection=this,elements=collection.find("[src]").add(collection.filter("[src]")),sources=elements.map(function(){return this.getAttribute("src")});return $.preload(sources)}});